# 商品服务开发文档

## 一、项目功能

### 1、api服务

- #### 批量查询商品 （find-item-by-id-logic.go)

  > 根据请求中的id数组，调用RPC中的商品查询

- #### 新增商品 （additem-logic.go）

- #### 更新商品（update-item-logic.go）

- #### 分页查询商品（query-item-page-logic.go）

- #### 更新商品状态（update-item-status-logic.go）

  > 更新完成后调用mq服务进行更新缓存

- #### 批量扣减库存（deduct-items-logic.go）

- #### 查询商品（find-item-by-id-logic.go）

- #### 删除商品（del-item-by-id-logic.go）

### 2、RPC服务

- ### 商品查询（find-item-by-ids-logic.go）

![商品查询——时序图](../../img/商品查询——时序图.png)

### 3、mq服务

- #### 更新缓存（paymentSuccess.go）

  > 收到消息后调用商品查询的RPC方法