# 支付服务

## 一、api服务

### 1、创建支付单（create_pay_logic.go）

- #### 创建对象

### 2、使用余额支付（use_balance_pay_logic.go）

- #### 分布式事务，调用用户RPC的余额扣减，订单RPC的给我更新订单状态，支付RPC的更新支付单流水

## 二、RPC服务

### 1、更新支付单流水级回滚方法

- #### 直接调用数据库修改

