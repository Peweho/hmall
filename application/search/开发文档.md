# 搜索服务

## 一、api服务

### 1、查询商品

- #### 构造查询请求

- #### 发起请求

- #### 构造响应对象

### 2、获取热门商品

- #### 使用DSL数据聚合查询用户搜索信息索引,该索引保存用户的搜索记录

- #### 得到商品id后,请求商品服务的RPC方法,商品查询

- #### 得到商品后构造响应对象

## 二、mq服务

### 1、更新/删除文档

- #### 序列化消息

- #### 选择处理方式（更新or删除）

- #### 构造请求

- #### 发起请求